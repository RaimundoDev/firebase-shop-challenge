(this["webpackJsonpalest-shop-frontend"]=this["webpackJsonpalest-shop-frontend"]||[]).push([[0],{14:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),s=c.n(r),o=(c(14),c(6)),i=c.n(o),u=c(8),l=c(2),j=c(9),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).APIURL||"http://localhost:5001/fir-shop-fullstack-76e03/us-central1/webApi/api/products/",b=c(0),p=function(e){var t=e.setContent,c=e.productsInfo,a=n.useState.apply(void 0,Object(j.a)(c)),r=Object(l.a)(a,2),s=r[0],o=(r[1],Object(n.useState)(s.data.name)),i=Object(l.a)(o,2),u=i[0],p=i[1],O=Object(n.useState)(s.data.img),h=Object(l.a)(O,2),f=h[0],m=h[1],x=Object(n.useState)(s.data.price),g=Object(l.a)(x,2),v=g[0],S=g[1],N=Object(n.useState)(""),C=Object(l.a)(N,2),y=C[0],P=C[1],E=Object(n.useState)(""),T=Object(l.a)(E,2),k=T[0],F=T[1],A=Object(n.useState)(!1),_=Object(l.a)(A,2),w=_[0],D=_[1];Object(n.useEffect)((function(){P((function(e){return e="",s.data.platform.forEach((function(t){e+=t+" "})),e.trimEnd()})),F((function(e){return e="",s.data.genres.forEach((function(t){e+=t+" "})),e.trimEnd()}))}),[]);var I=function(){D(!0),setTimeout((function(){D((function(e){return!e}))}),2500)};return Object(b.jsx)("section",{className:"editproductsection",children:Object(b.jsxs)("form",{onSubmit:function(e){var t=c[0].i,n="".concat(d).concat(t);e.preventDefault();var a={name:u,img:f,price:v,platform:y.split(" "),genres:k.split(" ")};fetch(n,{method:"PUT",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){console.log(e.status),I()})).catch((function(e){console.log(e)}))},children:[Object(b.jsxs)("article",{className:"imgeditsection",children:[Object(b.jsx)("img",{src:f,alt:u,width:"300px",height:"300px"}),Object(b.jsx)("input",{type:"text",placeholder:"image url",onChange:function(e){return m(e.target.value)},value:f||""})]}),Object(b.jsxs)("article",{className:"editinputs",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Nome: "}),Object(b.jsx)("input",{id:"name",type:"text",onChange:function(e){return p(e.target.value)},value:u}),Object(b.jsx)("label",{htmlFor:"price",children:"Pre\xe7o: "}),Object(b.jsx)("input",{id:"price",type:"number",onChange:function(e){return S(e.target.value)},value:v}),Object(b.jsx)("label",{htmlFor:"platform",children:"Plataformas: "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"(Separe as plataforma dispon\xedveis por espa\xe7o!)"}),Object(b.jsx)("input",{id:"platform",type:"text",onChange:function(e){return P(e.target.value)},value:y})]}),Object(b.jsx)("label",{htmlFor:"genres",children:"G\xeaneros: "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"(Separe os g\xeaneros usando espa\xe7o!)"}),Object(b.jsx)("input",{id:"genres",type:"text",onChange:function(e){return F(e.target.value)},value:k})]})]}),w&&Object(b.jsx)("article",{className:"saveMessage",children:"Produto Salvo!"}),Object(b.jsxs)("article",{className:"editinteractionbtn",children:[Object(b.jsx)("button",{type:"button",onClick:function(){t((function(e){return!e}))},children:"Voltar"}),Object(b.jsx)("button",{type:"submit",children:"Salvar"})]})]})})},O=function(e){var t=e.setContent,c=Object(n.useState)(""),a=Object(l.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],j=i[1],p=Object(n.useState)(0),O=Object(l.a)(p,2),h=O[0],f=O[1],m=Object(n.useState)([]),x=Object(l.a)(m,2),g=x[0],v=x[1],S=Object(n.useState)([]),N=Object(l.a)(S,2),C=N[0],y=N[1],P=Object(n.useState)(!1),E=Object(l.a)(P,2),T=E[0],k=E[1];return Object(b.jsx)("section",{className:"addproductsection",children:Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t={name:r,img:u,price:h,platform:g.split(" "),genres:C.split(" ")};fetch(d,{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return console.log(e.status)})).catch((function(e){return console.log(e)})),k(!0),setTimeout((function(){k(!1)}),2e3)}(e)},children:[Object(b.jsxs)("article",{className:"imgeditsection",children:[Object(b.jsx)("img",{src:u,alt:r}),Object(b.jsx)("input",{type:"text",placeholder:"image url",onChange:function(e){return j(e.target.value)},value:u||""})]}),Object(b.jsxs)("article",{className:"productinfo",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Nome: "}),Object(b.jsx)("input",{id:"name",type:"text",required:!0,onChange:function(e){return s(e.target.value)},value:r}),Object(b.jsx)("label",{htmlFor:"price",children:"Pre\xe7o: "}),Object(b.jsx)("input",{id:"price",type:"number",required:!0,onChange:function(e){return f(e.target.value)},value:h}),Object(b.jsx)("label",{htmlFor:"platform",children:"Plataformas: "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"(Separe as plataformas dispon\xedveis por espa\xe7o!)"}),Object(b.jsx)("input",{id:"platform",type:"text",required:!0,onChange:function(e){return v(e.target.value)},value:g})]}),Object(b.jsx)("label",{htmlFor:"genres",children:"G\xeaneros: "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"(Separe os g\xeaneros por espa\xe7o!)"}),Object(b.jsx)("input",{id:"genres",type:"text",required:!0,onChange:function(e){return y(e.target.value)},value:C})]})]}),T&&Object(b.jsx)("span",{className:"saveMessage",children:"Produto Adicionado!"}),Object(b.jsxs)("article",{className:"addproductbtn",children:[Object(b.jsx)("button",{type:"button",onClick:function(){t((function(e){return!e}))},children:"Voltar"}),Object(b.jsx)("button",{type:"submit",children:"Enviar"})]})]})})},h=function(e){var t=e.productsInfo,c=e.setContent,n=e.setPage,a=e.reloadPage,r=function(){n(Object(b.jsx)(p,{setContent:c,productsInfo:t})),c((function(e){return!e}))};return Object(b.jsxs)("section",{className:"productslist",children:[Object(b.jsx)("article",{className:"productcard",children:Object(b.jsx)("article",{className:"addproduct",onClick:function(){n(Object(b.jsx)(O,{setContent:c})),c((function(e){return!e}))},children:Object(b.jsx)("p",{children:"Adicionar Produto"})})}),t.map((function(e){var t=e.data,c=t.name,n=t.img,s=t.price,o=t.platform,i=t.genres,u=""===n||null===n?{}:{backgroundImage:"url(".concat(n,")")};return Object(b.jsxs)("article",{className:"productcard",children:[Object(b.jsx)("article",{className:"productimg",onClick:r,style:u}),Object(b.jsxs)("article",{className:"productinfo",onClick:r,children:[Object(b.jsx)("p",{className:"productname",children:c}),Object(b.jsxs)("p",{className:"productprice",children:["R$: ",s]}),Object(b.jsxs)("p",{children:["Dispon\xedvel para: ",o.map((function(e,t){return Object(b.jsx)("span",{className:"productplatformtag",children:e},t)}))]}),Object(b.jsx)("p",{children:i.map((function(e,t){return Object(b.jsxs)("span",{className:"genreplatformtag",children:["#",e]},t)}))})]}),Object(b.jsx)("button",{className:"deleteproductbtn",onClick:function(){return function(e){var t="".concat(d).concat(e);fetch(t,{method:"delete",mode:"cors"}),a((function(e){return!e}))}(e.i)},children:"Deletar Produto"})]},e.i)}))]})},f=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(l.a)(r,2),o=s[0],j=s[1],p=Object(n.useState)(!0),O=Object(l.a)(p,2),f=O[0],m=O[1],x=Object(n.useState)("<h1>A</h1>"),g=Object(l.a)(x,2),v=g[0],S=g[1],N=Object(n.useState)([]),C=Object(l.a)(N,2),y=C[0],P=C[1],E=Object(n.useState)(!1),T=Object(l.a)(E,2),k=T[0],F=T[1],A=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw a(!1),j(!0),new Error(e.statusText)})).then((function(e){a(!1),P(e)})).catch((function(){a(!1),j(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[]),Object(n.useEffect)((function(){return a(!0),A(),F(!1)}),[f,k]),f?c?Object(b.jsx)("section",{className:"loadingsection",children:Object(b.jsx)("h1",{children:"Carregando, aguarde..."})}):o?Object(b.jsxs)("section",{className:"errorsection",children:[Object(b.jsx)("h1",{children:"Algo deu errado."}),Object(b.jsx)("p",{children:"N\xe3o foi poss\xedvel se conectar."})]}):Object(b.jsx)("section",{className:"App",children:Object(b.jsx)(h,{reloadPage:F,productsInfo:y,setPage:S,setContent:m})}):Object(b.jsx)("section",{className:"secondPage",children:v})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9ca867da.chunk.js.map